local Player = game.Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local Camera = Workspace.CurrentCamera

local Settings = {
    WalkSpeed = 50,
    FlySpeed = 100,
    InfiniteJump = true,
    Noclip = false,
    ESP = false,
    Fullbright = false,
    NoFog = false,
    AntiAFK = true,
    FPSBoost = false
}

-- Walkspeed
Player.Character:WaitForChild("Humanoid").WalkSpeed = Settings.WalkSpeed

-- Infinite Jump
if Settings.InfiniteJump then
    UserInputService.JumpRequest:connect(function()
        Player.Character:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping)
    end)
end

-- Fly
local flying = false
local flyConnection
function toggleFly()
    flying = not flying
    if flying then
        flyConnection = RunService.Heartbeat:Connect(function()
            local bodyVelocity = Instance.new("BodyVelocity")
            bodyVelocity.Velocity = Vector3.new(0, Settings.FlySpeed, 0)
            bodyVelocity.Parent = Player.Character.HumanoidRootPart
            wait()
            bodyVelocity:Destroy()
        end)
    else
        if flyConnection then
            flyConnection:Disconnect()
        end
    end
end

UserInputService.InputBegan:connect(function(input)
    if input.UserInputType == Enum.UserInputType.Keyboard then
        if input.KeyCode == Enum.KeyCode.F then
            toggleFly()
        end
    end
end)

-- Noclip
function toggleNoclip()
    Settings.Noclip = not Settings.Noclip
    if Settings.Noclip then
        RunService.Stepped:connect(function()
            for _, part in ipairs(Player.Character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end)
    end
end

UserInputService.InputBegan:connect(function(input)
    if input.KeyCode == Enum.KeyCode.N then
        toggleNoclip()
    end
end)

-- ESP
function toggleESP()
    Settings.ESP = not Settings.ESP
    if Settings.ESP then
        for _, player in ipairs(game.Players:GetPlayers()) do
            if player ~= Player then
                local highlight = Instance.new("Highlight")
                highlight.Adornee = player.Character
                highlight.Parent = player.Character
            end
        end
    end
end

UserInputService.InputBegan:connect(function(input)
    if input.KeyCode == Enum.KeyCode.E then
        toggleESP()
    end
end)

-- Fullbright
if Settings.Fullbright then
    Lighting.Brightness = 2
end

-- No Fog
if Settings.NoFog then
    Lighting.FogEnd = 99999
end

-- Server Hop
function serverHop()
    local servers = game:GetService("MarketplaceService"):GetProductInfo(107806 C)
    -- Logic to switch server
end

UserInputService.InputBegan:connect(function(input)
    if input.KeyCode == Enum.KeyCode.H then
        serverHop()
    end
end)

-- Anti AFK
if Settings.AntiAFK then
    game:GetService("VirtualUser"):Button2Down(0, workspace.CurrentCamera.CFrame)
    wait(2)
    game:GetService("VirtualUser"):Button2Up(0, workspace.CurrentCamera.CFrame)
end

-- FPS Booster
if Settings.FPSBoost then
    settings().Rendering.QualityLevel = Enum.QualityLevel.NoShadow
end

-- Adjust settings via GUI or other controls as necessary.
